{
  "ruleChain": {
    "id": "bW1lMC97oYih",
    "name": "测试条件分支",
    "debugMode": true,
    "root": true,
    "disabled": false,
    "configuration": {
      "vars": {}
    },
    "additionalInfo": {
      "createTime": "2026/01/15 22:24:07",
      "layoutX": "280",
      "layoutY": "280",
      "noDefaultInput": false,
      "updateTime": "2026/02/04 17:30:26",
      "username": "admin"
    }
  },
  "metadata": {
    "firstNodeIndex": 0,
    "nodes": [
      {
        "id": "node_2",
        "additionalInfo": {
          "description": "",
          "layoutX": 480,
          "layoutY": 280
        },
        "type": "switch",
        "name": "条件分支",
        "debugMode": false,
        "configuration": {
          "cases": [
            {
              "case": "msg.temperature>=20 && msg.temperature<=50",
              "then": "Case1"
            },
            {
              "case": "msg.temperature>50",
              "then": "Case2"
            }
          ]
        }
      },
      {
        "id": "node_4",
        "additionalInfo": {
          "description": "",
          "layoutX": 840,
          "layoutY": 160
        },
        "type": "jsTransform",
        "name": "case1",
        "debugMode": false,
        "configuration": {
          "jsScript": "msg=msg||{}\nmsg.match='Case1'\nreturn {'msg':msg,'metadata':metadata,'msgType':msgType};"
        }
      },
      {
        "id": "node_5",
        "additionalInfo": {
          "description": "",
          "layoutX": 840,
          "layoutY": 280
        },
        "type": "jsTransform",
        "name": "case2",
        "debugMode": false,
        "configuration": {
          "jsScript": "msg=msg||{}\nmsg.match='Case2'\nreturn {'msg':msg,'metadata':metadata,'msgType':msgType};"
        }
      },
      {
        "id": "node_6",
        "additionalInfo": {
          "description": "",
          "layoutX": 840,
          "layoutY": 380
        },
        "type": "jsTransform",
        "name": "default",
        "debugMode": false,
        "configuration": {
          "jsScript": "msg=msg||{}\nmsg.match='Default'\nreturn {'msg':msg,'metadata':metadata,'msgType':msgType};"
        }
      },
      {
        "id": "node_12",
        "additionalInfo": {
          "layoutX": 837,
          "layoutY": 498
        },
        "type": "jsTransform",
        "name": "js转换",
        "debugMode": false,
        "configuration": {
          "jsScript": "return {'msg':msg,'metadata':metadata,'msgType':msgType,'dataType':dataType};"
        }
      },
      {
        "id": "node_26",
        "additionalInfo": {
          "layoutX": 599,
          "layoutY": 523
        },
        "type": "log",
        "name": "日志",
        "debugMode": false,
        "configuration": {
          "jsScript": "return 'Incoming message:\\n' + JSON.stringify(msg) + '\\nIncoming metadata:\\n' + JSON.stringify(metadata);"
        }
      }
    ],
    "connections": [
      {
        "fromId": "node_2",
        "toId": "node_4",
        "type": "Case1"
      },
      {
        "fromId": "node_2",
        "toId": "node_5",
        "type": "Case2"
      },
      {
        "fromId": "node_2",
        "toId": "node_6",
        "type": "Default"
      },
      {
        "fromId": "node_2",
        "toId": "node_12",
        "type": "Failure"
      },
      {
        "fromId": "node_2",
        "toId": "node_26",
        "type": "Case1"
      },
      {
        "fromId": "node_2",
        "toId": "node_26",
        "type": "Case2"
      },
      {
        "fromId": "node_2",
        "toId": "node_26",
        "type": "Default"
      }
    ]
  }
}
{
  "ruleChain": {
    "id": "z21fs8PRqnCp",
    "name": "测试条件分支",
    "debugMode": true,
    "root": true,
    "disabled": false,
    "additionalInfo": {
      "createTime": "2024/11/24 11:58:44",
      "description": "",
      "layoutX": "280",
      "layoutY": "280",
      "message": "nodeType:switch for id:node_2 init error:unexpected token Operator(\">\") (1:11)\n | msg.user <>\"\"\n | ..........^",
      "updateTime": "2024/11/24 11:58:44",
      "username": "admin"
    }
  },
  "metadata": {
    "firstNodeIndex": 0,
    "nodes": [
      {
        "id": "node_2",
        "additionalInfo": {
          "layoutX": 500,
          "layoutY": 260
        },
        "type": "switch",
        "name": "条件分支",
        "debugMode": false,
        "configuration": {
          "cases": [
            {
              "case": "msg.user <>\"\"",
              "then": "Case1"
            },
            {
              "case": "msg.user =='ww'",
              "then": "Case2"
            }
          ]
        }
      }
    ],
    "connections": []
  }
}
